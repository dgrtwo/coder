<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Comorbidity • coder</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Comorbidity">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.7.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/coder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Comorbidity.html">Comorbidity</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eribul/coder">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Comorbidity</h1>
                        <h4 class="author">Erik Bulow</h4>
            
            <h4 class="date">2019-12-17</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/eribul/coder/blob/master/vignettes/Comorbidity.Rmd"><code>vignettes/Comorbidity.Rmd</code></a></small>
      <div class="hidden name"><code>Comorbidity.Rmd</code></div>

    </div>

    
    
<div id="patient-comorbidity" class="section level1">
<h1 class="hasAnchor">
<a href="#patient-comorbidity" class="anchor"></a>Patient comorbidity</h1>
<p>Let’s assume that we want to identify comorbidity for patients operated with hip arthroplasty.</p>
<div id="patients" class="section level2">
<h2 class="hasAnchor">
<a href="#patients" class="anchor"></a>Patients</h2>
<p>The data set <code>ex_people</code> is contained in the package and holds some example data for a set of people. Column ‘surgery’ gives the date of when a hip replacement was inserted.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(coder)</a>
<a class="sourceLine" id="cb1-2" title="2">knitr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(ex_people))</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">name</th>
<th align="left">surgery</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Miller, Von Buddenbrock</td>
<td align="left">2019-02-20</td>
</tr>
<tr class="even">
<td align="left">Enriquez, Anthony</td>
<td align="left">2019-08-04</td>
</tr>
<tr class="odd">
<td align="left">al-Dib, Farhaan</td>
<td align="left">2019-09-30</td>
</tr>
<tr class="even">
<td align="left">Martinez, Alison</td>
<td align="left">2019-07-07</td>
</tr>
<tr class="odd">
<td align="left">el-Masri, Junaid</td>
<td align="left">2019-04-25</td>
</tr>
<tr class="even">
<td align="left">Sam, Niki</td>
<td align="left">2019-10-12</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="medical-records" class="section level1">
<h1 class="hasAnchor">
<a href="#medical-records" class="anchor"></a>Medical records</h1>
<p>The data set <code>ex_icd10</code> is another example data set included in the package. It is a long list with patient data from earlier hospital visits with the following columns:</p>
<ul>
<li>id: Name of the patients.</li>
<li>code_date: A date of a hospital visit (each patient can have more than one visit)</li>
<li>code: A medical code (based on ICD-10) that was relevant for the hospital visit.</li>
<li>hdia: Identifies if the “code” is the immidiate couse (TRUE) or an underlying couse (FALSE) for the hospital visit.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1">knitr<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span>(<span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(ex_icd10))</a></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">id</th>
<th align="left">code_date</th>
<th align="left">code</th>
<th align="left">hdia</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Aguilera, Brandon</td>
<td align="left">2019-03-06</td>
<td align="left">T931</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Aguilera, Brandon</td>
<td align="left">2019-05-31</td>
<td align="left">D301</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Aguilera, Brandon</td>
<td align="left">2019-07-01</td>
<td align="left">I828</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Alexander, Bethany</td>
<td align="left">2018-11-14</td>
<td align="left">S925</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">Alexander, Bethany</td>
<td align="left">2018-12-19</td>
<td align="left">E278</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">Alexander, Bethany</td>
<td align="left">2019-04-25</td>
<td align="left">A507</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
</div>
<div id="notes" class="section level1">
<h1 class="hasAnchor">
<a href="#notes" class="anchor"></a>Notes</h1>
<p>Medical conditions were registered using standardized codes (ICD-10) and individual codes were summarized by weighting all individual comorbidities for each patient (the Charlson and Elixhauser comorbidity indices). Only hospital visits recorded within a specified time frame, compared to individual reference dates from the primary data source, were recognized as relevant.</p>
<p>The large data sets, as well as the complexity of the classification schemes make those calculations time consuming. A naïve approach using bare code comparisons and for-loops in R, took approximately 16 hours to run on a laptop computer with 16 GB of RAM. We were then able to reformulate the coding schemes using regular expressions and we optimized our package using the data.table package. The classification time were then reduced to a number of seconds. We also compared the coder package to two packages on CRAN with similar scoop, icd and comorbidities.icd10. Our package was considerably faster than those.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#patient-comorbidity">Patient comorbidity</a><ul class="nav nav-pills nav-stacked">
<li><a href="#patients">Patients</a></li>
      </ul>
</li>
      <li><a href="#medical-records">Medical records</a></li>
      <li><a href="#notes">Notes</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/eribul">Erik Bulow</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>

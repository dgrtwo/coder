<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>coder • coder</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="coder">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/coder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Comorbidity.html">Comorbidity</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/eribul/coder">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>coder</h1>
                        <h4 class="author">Erik Bulow</h4>
            
            <h4 class="date">2020-02-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/eribul/coder/blob/master/vignettes/coder.Rmd"><code>vignettes/coder.Rmd</code></a></small>
      <div class="hidden name"><code>coder.Rmd</code></div>

    </div>

    
    
<p>This vignette will demonstrate the core functionality of the “coder” package by a trivial example.</p>
<div id="car-ownership" class="section level1">
<h1 class="hasAnchor">
<a href="#car-ownership" class="anchor"></a>Car ownership</h1>
<p>Let’s assume we have a list of people, as well as dates for their driving license:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(coder)</span>
<span id="cb1-3"><a href="#cb1-3"></a></span>
<span id="cb1-4"><a href="#cb1-4"></a>people &lt;-<span class="st"> </span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(</span>
<span id="cb1-6"><a href="#cb1-6"></a>    <span class="dt">name =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb1-7"><a href="#cb1-7"></a>      <span class="st">"Medina, Desmand"</span>, <span class="st">"al-Hashem,  Muzna"</span>, <span class="st">"el-Kaleel, Aadil"</span>, <span class="st">"Pettsson, Svenne"</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>    ),</span>
<span id="cb1-9"><a href="#cb1-9"></a>    <span class="dt">license =</span> <span class="kw"><a href="https://rdrr.io/r/base/as.Date.html">as.Date</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(</span>
<span id="cb1-10"><a href="#cb1-10"></a>      <span class="st">"1949-05-23"</span>, <span class="st">"2016-03-04"</span>, <span class="st">"2019-12-18"</span>, <span class="st">"1985-05-04"</span></span>
<span id="cb1-11"><a href="#cb1-11"></a>    )),</span>
<span id="cb1-12"><a href="#cb1-12"></a>    <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span></span>
<span id="cb1-13"><a href="#cb1-13"></a>  )</span></code></pre></div>
<p>We also have a car registry with car ownership for 1,000 cars (with <code>code_date</code> the date when the car was bought):</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="kw"><a href="https://rdrr.io/r/utils/head.html">head</a></span>(ex_cars)</span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="co">#&gt;                  id              code  code_date</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="co">#&gt; 1   Medina, Desmand         Mazda RX4 2019-06-07</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="co">#&gt; 2 al-Hashem,  Muzna Chrysler Imperial 2018-01-22</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="co">#&gt; 3  el-Kaleel, Aadil         Merc 240D 2019-03-15</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="co">#&gt; 4    Foster, Amanda    Toyota Corolla 2019-01-31</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="co">#&gt; 5     Budy, Cameren     Maserati Bora 2019-03-22</span></span>
<span id="cb2-8"><a href="#cb2-8"></a><span class="co">#&gt; 6       Ash, Reilly          Merc 230 2019-03-20</span></span></code></pre></div>
<p>We are not interested in individual brand names of each car, but we want to know who owns a car made by a specific company. We can specify a classification scheme of brands related to each company (a <code>classcodes</code> object). Note that not all models are classified. The classification scheme is made by regular expressions since these are more effective to work with for classification of large data sets.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>ex_carbrands</span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="co">#&gt;     group                                regex</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="co">#&gt; 1   Mazda                                Mazda</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="co">#&gt; 2 Mer-Ben                                 Merc</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="co">#&gt; 3    Ford                         Ford|Lincoln</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">#&gt; 4    Fiat Chrysler|Fiat|Dodge|Ferrari|Maserati</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="co">#&gt; 5  Toyota                               Toyota</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="co">#&gt; 6  Volksw                              Porsche</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="co">#&gt; 7   Geely                          Volvo|Lotus</span></span></code></pre></div>
</div>
<div id="categorize" class="section level1">
<h1 class="hasAnchor">
<a href="#categorize" class="anchor"></a>Categorize</h1>
<p>We want to know if anyone owns a car from a company that we are interested in.</p>
<p>We use the three objects from above:</p>
<ul>
<li>
<code>people</code>: the people we are interested in,</li>
<li>
<code>ex_cars</code>: the centralized car registry and</li>
<li>
<code>ex_carbrands</code>: the classification of car makers.</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a>(x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/categorize.html">categorize</a></span>(people, ex_cars, ex_carbrands, <span class="dt">id =</span> <span class="st">"name"</span>))</span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="co">#&gt; index calculated as number of relevant categories</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="co">#&gt;                 name    license Mazda Mer-Ben  Ford  Fiat Toyota Volksw Geely</span></span>
<span id="cb4-4"><a href="#cb4-4"></a><span class="co">#&gt; 1:   Medina, Desmand 1949-05-23  TRUE   FALSE FALSE FALSE  FALSE  FALSE FALSE</span></span>
<span id="cb4-5"><a href="#cb4-5"></a><span class="co">#&gt; 2:  Pettsson, Svenne 1985-05-04    NA      NA    NA    NA     NA     NA    NA</span></span>
<span id="cb4-6"><a href="#cb4-6"></a><span class="co">#&gt; 3: al-Hashem,  Muzna 2016-03-04 FALSE   FALSE FALSE  TRUE  FALSE  FALSE FALSE</span></span>
<span id="cb4-7"><a href="#cb4-7"></a><span class="co">#&gt; 4:  el-Kaleel, Aadil 2019-12-18 FALSE    TRUE FALSE  TRUE  FALSE  FALSE  TRUE</span></span>
<span id="cb4-8"><a href="#cb4-8"></a><span class="co">#&gt;    index</span></span>
<span id="cb4-9"><a href="#cb4-9"></a><span class="co">#&gt; 1:     1</span></span>
<span id="cb4-10"><a href="#cb4-10"></a><span class="co">#&gt; 2:    NA</span></span>
<span id="cb4-11"><a href="#cb4-11"></a><span class="co">#&gt; 3:     1</span></span>
<span id="cb4-12"><a href="#cb4-12"></a><span class="co">#&gt; 4:     3</span></span></code></pre></div>
</div>
<div id="interpretation" class="section level1">
<h1 class="hasAnchor">
<a href="#interpretation" class="anchor"></a>Interpretation</h1>
<p>We can see that:</p>
<ul>
<li>Emily Aziz owns a Mazda.</li>
<li>Lauren Albrecht owns both a Mercedes and a Toyota.</li>
<li>Christopher Gavin might in fact own a car, but none of the ones we are interested in.</li>
<li>Svenne Petsson is a Swede and is not found in our American car register.</li>
</ul>
<p>The <code>index</code> column is here the sum of identified cars owned by each person.</p>
<p>Note that each column identifies if a person owns <strong>at least one</strong> car from the relevant company.</p>
</div>
<div id="cars-owned-before-license" class="section level1">
<h1 class="hasAnchor">
<a href="#cars-owned-before-license" class="anchor"></a>Cars owned before license</h1>
<p>We can use the date columns to check if anyone owned a car already before they got their drivers license. We need to specify that the date column is called <code>license</code>. The <code>days</code> argument specifies that we are interested in cars bought before this date.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>(x &lt;-<span class="st"> </span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="st">   </span><span class="kw"><a href="../reference/categorize.html">categorize</a></span>(</span>
<span id="cb5-3"><a href="#cb5-3"></a>     people, </span>
<span id="cb5-4"><a href="#cb5-4"></a>     ex_cars, </span>
<span id="cb5-5"><a href="#cb5-5"></a>     ex_carbrands, </span>
<span id="cb5-6"><a href="#cb5-6"></a>     <span class="dt">id =</span> <span class="st">"name"</span>, </span>
<span id="cb5-7"><a href="#cb5-7"></a>     <span class="dt">codify_args =</span> <span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(</span>
<span id="cb5-8"><a href="#cb5-8"></a>       <span class="dt">date =</span> <span class="st">"license"</span>, </span>
<span id="cb5-9"><a href="#cb5-9"></a>       <span class="dt">days =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="op">-</span><span class="ot">Inf</span>, <span class="dv">-1</span>)</span>
<span id="cb5-10"><a href="#cb5-10"></a>     )</span>
<span id="cb5-11"><a href="#cb5-11"></a>  )</span>
<span id="cb5-12"><a href="#cb5-12"></a>)</span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="co">#&gt; index calculated as number of relevant categories</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="co">#&gt;                 name    license Mazda Mer-Ben  Ford  Fiat Toyota Volksw Geely</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="co">#&gt; 1:   Medina, Desmand 1949-05-23    NA      NA    NA    NA     NA     NA    NA</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="co">#&gt; 2:  Pettsson, Svenne 1985-05-04    NA      NA    NA    NA     NA     NA    NA</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="co">#&gt; 3: al-Hashem,  Muzna 2016-03-04    NA      NA    NA    NA     NA     NA    NA</span></span>
<span id="cb5-18"><a href="#cb5-18"></a><span class="co">#&gt; 4:  el-Kaleel, Aadil 2019-12-18 FALSE    TRUE FALSE FALSE  FALSE  FALSE  TRUE</span></span>
<span id="cb5-19"><a href="#cb5-19"></a><span class="co">#&gt;    index</span></span>
<span id="cb5-20"><a href="#cb5-20"></a><span class="co">#&gt; 1:    NA</span></span>
<span id="cb5-21"><a href="#cb5-21"></a><span class="co">#&gt; 2:    NA</span></span>
<span id="cb5-22"><a href="#cb5-22"></a><span class="co">#&gt; 3:    NA</span></span>
<span id="cb5-23"><a href="#cb5-23"></a><span class="co">#&gt; 4:     2</span></span></code></pre></div>
<p>Indeed, someone did buy some cars before taking a drivers license!</p>
</div>
<div id="car-rating" class="section level1">
<h1 class="hasAnchor">
<a href="#car-rating" class="anchor"></a>Car rating</h1>
<p>We are not only interested in the number of cars owned by each individual. We would also like to rate the cars based on the manufacturer. Let us assign some score to each company. We then specifies that the index should be calculated based on the new column named “score”.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>ex_carbrands<span class="op">$</span>score &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">10</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>)</span>
<span id="cb6-2"><a href="#cb6-2"></a></span>
<span id="cb6-3"><a href="#cb6-3"></a>(x &lt;-<span class="st"> </span><span class="kw"><a href="../reference/categorize.html">categorize</a></span>(people, ex_cars, ex_carbrands, <span class="dt">id =</span> <span class="st">"name"</span>, <span class="dt">ind =</span> <span class="st">"score"</span>))</span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt;                 name    license Mazda Mer-Ben  Ford  Fiat Toyota Volksw Geely</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; 1:   Medina, Desmand 1949-05-23  TRUE   FALSE FALSE FALSE  FALSE  FALSE FALSE</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; 2:  Pettsson, Svenne 1985-05-04    NA      NA    NA    NA     NA     NA    NA</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt; 3: al-Hashem,  Muzna 2016-03-04 FALSE   FALSE FALSE  TRUE  FALSE  FALSE FALSE</span></span>
<span id="cb6-8"><a href="#cb6-8"></a><span class="co">#&gt; 4:  el-Kaleel, Aadil 2019-12-18 FALSE    TRUE FALSE  TRUE  FALSE  FALSE  TRUE</span></span>
<span id="cb6-9"><a href="#cb6-9"></a><span class="co">#&gt;    score</span></span>
<span id="cb6-10"><a href="#cb6-10"></a><span class="co">#&gt; 1:    10</span></span>
<span id="cb6-11"><a href="#cb6-11"></a><span class="co">#&gt; 2:    NA</span></span>
<span id="cb6-12"><a href="#cb6-12"></a><span class="co">#&gt; 3:     1</span></span>
<span id="cb6-13"><a href="#cb6-13"></a><span class="co">#&gt; 4:     5</span></span></code></pre></div>
</div>
<div id="concluding-remark" class="section level1">
<h1 class="hasAnchor">
<a href="#concluding-remark" class="anchor"></a>Concluding remark</h1>
<p>This vignette illustrates a simple example where the data sets are small, and the coding schemes are trivial. If that is the case, it might be equally good to just join or merge the data sets manually. A more realistic example of when the package might come handy is presented in the vignette called “Comorbidity”.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#car-ownership">Car ownership</a></li>
      <li><a href="#categorize">Categorize</a></li>
      <li><a href="#interpretation">Interpretation</a></li>
      <li><a href="#cars-owned-before-license">Cars owned before license</a></li>
      <li><a href="#car-rating">Car rating</a></li>
      <li><a href="#concluding-remark">Concluding remark</a></li>
      </ul>
</div>
      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="https://github.com/eribul">Erik Bulow</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>

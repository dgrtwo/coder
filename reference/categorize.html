<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Categorize cases based on external data and classification scheme — categorize • coder</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Categorize cases based on external data and classification scheme — categorize" />
<meta property="og:description" content="This is the main function of the package, which relies of a triad of objects:
(1) data with unit id:s and possible dates of interest;
(2) codedata for corresponding
units and with optional dates of interest and;
(3) a classification scheme (classcodes object; cc) with regular
expressions to identify and categorize relevant codes." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">coder</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.11.10</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../articles/coder.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/classcodes.html">Classcodes objects</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/eribul/coder/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Categorize cases based on external data and classification scheme</h1>
    <small class="dont-index">Source: <a href='https://github.com/eribul/coder/blob/master/R/categorize.R'><code>R/categorize.R</code></a></small>
    <div class="hidden name"><code>categorize.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This is the main function of the package, which relies of a triad of objects:
(1) <code>data</code> with unit id:s and possible dates of interest;
(2) <code>codedata</code> for corresponding
units and with optional dates of interest and;
(3) a classification scheme (<code><a href='classcodes.html'>classcodes</a></code> object; <code>cc</code>) with regular
expressions to identify and categorize relevant codes.</p>
    </div>

    <pre class="usage"><span class='fu'>categorize</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)

<span class='co'># S3 method for data.frame</span>
<span class='fu'>categorize</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)

<span class='co'># S3 method for tbl_df</span>
<span class='fu'>categorize</span>(<span class='kw'>x</span>, <span class='kw'>...</span>)

<span class='co'># S3 method for data.table</span>
<span class='fu'>categorize</span>(<span class='kw'>x</span>, <span class='kw'>...</span>, <span class='kw'>codedata</span>, <span class='kw'>id</span>, <span class='kw'>code</span>, codify_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>())

<span class='co'># S3 method for codified</span>
<span class='fu'>categorize</span>(
  <span class='kw'>x</span>,
  <span class='kw'>...</span>,
  <span class='kw'>cc</span>,
  index = <span class='kw'>NULL</span>,
  sort = <span class='fl'>TRUE</span>,
  cc_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(),
  .data_cols = <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a> or <a href='https://Rdatatable.gitlab.io/data.table/reference/data.table.html'>data.table::data.table</a> with mandatory id column
(identified by argument <code>id</code>),
and optional column with date of interest
(identified by argument <code>date</code> if  <code>days != NULL</code>).
Alternatively, the output from <code><a href='codify.html'>codify()</a></code></p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments passed between methods</p></td>
    </tr>
    <tr>
      <th>codedata</th>
      <td><p>external code data (see <code>prepare_codedata()</code>)</p></td>
    </tr>
    <tr>
      <th>id</th>
      <td><p>name of code/id columns (in <code>codified</code>).</p></td>
    </tr>
    <tr>
      <th>code</th>
      <td><p>name of code/id columns (in <code>codified</code>).</p></td>
    </tr>
    <tr>
      <th>codify_args</th>
      <td><p>List of named arguments passed to <code><a href='codify.html'>codify()</a></code></p></td>
    </tr>
    <tr>
      <th>cc</th>
      <td><p><code><a href='classcodes.html'>classcodes</a></code> object (or name of such object).</p></td>
    </tr>
    <tr>
      <th>index</th>
      <td><p>A character vector of index values to calculate (passed to argument
<code>by</code> in function <code><a href='index_fun.html'>index()</a></code>.</p>
<p>Set to <code>FALSE</code> if no index should be calculated.</p>
<p>If <code>NULL</code>, the default, all available indices (from <code><a href='https://rdrr.io/r/base/attr.html'>attr(cc, "indices")</a></code>)
are provided. A message lists the indices so that you can check they're
correct; suppress the message by supplying <code>index</code> explicitly.</p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>logical. Should output be sorted by the 'id' column?
(This could affect computational speed for large data sets.
Data is sorted by 'id' internally. It is therefore faster to keep the
output sorted this way, but this might be inconvenient if the original
order was important.)</p></td>
    </tr>
    <tr>
      <th>cc_args</th>
      <td><p>List with named arguments passed to
<code><a href='set_classcodes.html'>set_classcodes()</a></code></p></td>
    </tr>
    <tr>
      <th>.data_cols</th>
      <td><p>used internally</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Object of class <code>data.table</code> made from <code>data</code> combined with
logical columns indicating membership of categories identified by the
<code>classcodes</code> object (the <code>cc</code> argument).
Indices are also included if specified by the 'index' argument.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The function combines the three underlying steps performed by
<code><a href='codify.html'>codify()</a></code>, <code><a href='classify.html'>classify()</a></code> and <code><a href='index_fun.html'>index()</a></code>.
Relevant arguments are passed to those functions by
<code>codify_args</code> and <code>cc_args</code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>For more details see the help vignette:
<code><a href='../articles/coder.html'>vignette("coder", package = "coder")</a></code> and the
package website <a href='https://eribul.github.io/coder'>https://eribul.github.io/coder</a>.</p>
<p>Other verbs: 
<code><a href='classify.html'>classify</a>()</code>,
<code><a href='codify.html'>codify</a>()</code>,
<code><a href='index_fun.html'>index_fun</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Add Elixhauser based on all registered ICD10-codes</span>
<span class='fu'>categorize</span>(<span class='kw'>ex_people</span>, <span class='kw'>ex_icd10</span>, <span class='st'>"elixhauser"</span>, id = <span class='st'>"name"</span>)
</div><div class='output co'>#&gt; <span class='error'>Error in categorize.data.table(as.data.table(x), ...): argument "codedata" is missing, with no default</span></div><div class='input'>
<span class='co'># Add Charlson categories and two versions of a calculated index.</span>
<span class='co'># Only include recent hospital visits within 30 days before surgery,</span>
<span class='co'># and use technical variable names to clearly identify the new columns.</span>
<span class='fu'>categorize</span>(<span class='kw'>ex_people</span>, <span class='kw'>ex_icd10</span>, <span class='st'>"charlson"</span>,
  id = <span class='st'>"name"</span>,
  index = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"quan_original"</span>, <span class='st'>"quan_updated"</span>),
  codify_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(date = <span class='st'>"event"</span>, days = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='op'>-</span><span class='fl'>30</span>, <span class='op'>-</span><span class='fl'>1</span>)),
  cc_args = <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(tech_names = <span class='fl'>TRUE</span>)
)
</div><div class='output co'>#&gt; <span class='error'>Error in categorize.data.table(as.data.table(x), ...): argument "codedata" is missing, with no default</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/eribul'>Erik Bulow</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


